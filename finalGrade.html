<!DOCTYPE html>
<!--suppress JSJQueryEfficiency -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Grade calculator by Fat Halimi</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="jquery/jquery/jquery-ui.css">
    <script src="jquery/jquery/jquery.js"></script>
    <script src="jquery/jquery/jquery-ui.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">


    <script type="text/javascript">
        ///////////////////////


        $(document).ready(function () {
            $("#hrID").hide()

            var flag = 0;
            $("#result").hide()
            isDisabled = 0;
            isDisabledFinalExam = 0;


            $('#firstExamPoints').on('input', function () {

                if ($("#firstExamPoints").val() !== "") {
                    $("#finalExamPoints, #finalExamPercentage ").attr('disabled', 'disabled');
                    isDisabledFinalExam = 1 //gets disabled when points entered for first exam
                    console.log(isDisabledFinalExam)

                }

                if ($("#firstExamPoints").val() === "") {
                    $("#finalExamPoints, #finalExamPercentage  ").attr('enabled', 'enabled');
                    isDisabledFinalExam = 0 //undo disable when first exam is empty
                    console.log(isDisabledFinalExam)

                }

            });

            $('#firstExamPercentage').on('input', function () {

                if ($("#firstExamPercentage").val() !== "") {
                    $("#finalExamPoints, #finalExamPercentage ").attr('disabled', 'disabled');
                    isDisabledFinalExam = 1 //gets disabled when points entered for first exam
                    console.log(isDisabledFinalExam)

                }

                if ($("#firstExamPercentage").val() === "") {
                    $("#finalExamPoints, #finalExamPercentage  ").attr('enabled', 'enabled');
                    isDisabledFinalExam = 0 //undo disable when first exam is empty
                    console.log(isDisabledFinalExam)

                }

            });
            $('#secondExamPoints').on('input', function () {

                if ($("#secondExamPoints").val() !== "") {
                    $("#finalExamPoints, #finalExamPercentage ").attr('disabled', 'disabled');
                    isDisabledFinalExam = 1 //gets disabled when points entered for first exam
                    console.log(isDisabledFinalExam)

                }

                if ($("#secondExamPoints").val() === "") {
                    $("#finalExamPoints, #finalExamPercentage  ").attr('enabled', 'enabled');
                    isDisabledFinalExam = 0 //undo disable when first exam is empty
                    console.log(isDisabledFinalExam)

                }

            });

            $('#secondExamPercentage').on('input', function () {

                if ($("#secondExamPercentage").val() !== "") {
                    $("#finalExamPoints, #finalExamPercentage ").attr('disabled', 'disabled');
                    isDisabledFinalExam = 1 //gets disabled when points entered for first exam
                    console.log(isDisabledFinalExam)

                }

                if ($("#secondExamPercentage").val() === "") {
                    $("#finalExamPoints, #finalExamPercentage  ").attr('enabled', 'enabled');
                    isDisabledFinalExam = 0 //undo disable when first exam is empty
                    console.log(isDisabledFinalExam)

                }

            });


            $('#finalExamPoints').on('input', function () {

                if ($("#finalExamPoints").val() !== "") {
                    $("#firstExamPoints, #firstExamPercentage, #secondExamPoints, #secondExamPercentage ").attr('disabled', 'disabled');
                    isDisabled = 1 //gets disabled exam field when final exam points are enterred
                    console.log(isDisabled)

                }
                if ($("#finalExamPoints").val() === "") {
                    $("#firstExamPoints, #firstExamPercentage,#secondExamPoints, #secondExamPercentage ").attr('enabled', 'enabled');
                    isDisabled = 0 //first exam second exam gets enabled when final exam points are emptyu
                    console.log(isDisabled)

                }
            });
            $('#finalExamPercentage').on('input', function () {

                if ($("#finalExamPercentage").val() !== "") {
                    $("#firstExamPoints, #firstExamPercentage, #secondExamPoints, #secondExamPercentage ").attr('disabled', 'disabled');
                    isDisabled = 1 //gets disabled exam field when final exam points are enterred
                    console.log(isDisabled)

                }
                if ($("#finalExamPercentage").val() === "") {
                    $("#firstExamPoints, #firstExamPercentage,  #secondExamPoints, #secondExamPercentage ").attr('enabled', 'enabled');
                    isDisabled = 0 //first exam second exam gets enabled when final exam points are emptyu
                    console.log(isDisabled)

                }
            });


            $("#calculate").click(function () {

                thrown = 0
                if (isDisabled === 0) {
                    if (flag < 2) {

                        if ($("#firstExamPoints").val() === "" || $("#secondExamPoints").val() === "" || $("#firstExamPercentage").val() === "" || $("#secondExamPercentage").val() === "") {
                            alert("First exam points and second exam points and weight on grade are required")
                            thrown = 1


                        } else
                            flag += 2;
                    }
                }


                if (isDisabledFinalExam === 0) {
                    if ($("#finalExamPoints").val() === "" || $("#finalExamPercentage").val() === "" && thrown === 0) {
                        alert("Final exam points and weight on grade are required")

                    } else
                        flag += 2;
                }
                if ($("#assigmentsPoints").val() !== "" && $("#assigmentsPercentage").val() === "") {

                    alert("Assigments points are inserted, assigments weight on grade is required")
                    flag--;

                }


                if ($("#assigmentsPoints").val() === "" && $("#assigmentsPercentage").val() !== "") {

                    alert("Assigments weight on grade is inserted, assigment points are required")
                    flag--
                }

                if ($("#presencePoints").val() !== "" && $("#presencePercentage").val() === "") {

                    alert("Presence points are inserted, it is needed to insert presence points weight on grade")
                    flag--;

                }


                if ($("#presencePoints").val() === "" && $("#presencePercentage").val() !== "") {

                    alert("Presence points weight on grade is inserted, please insert amount of presence points.")
                    flag--
                }

                if ($("#bonusPoints").val() !== "" && $("#bonusPercentage").val() === "") {

                    alert("Bonus points are inserted, it is needed to insert bonus points weight on grade")
                    flag--;

                }


                if ($("#bonusPoints").val() === "" && $("#bonusPercentage").val() !== "") {

                    alert("Bonus points weight on grade is inserted, please insert amount of bonus points.")
                    flag--
                }


                success = "success"
                if (flag === 2) {
                    //$("#result").show()
                    $("#hrID").show()
                    console.log(success)

                    $(this).css({
                        borderStyle: "inset",
                        cursor: "wait"
                    });
                    $("#result").slideDown(1000, function () {
                        $(this)

                            .filter(".middle")
                            .css("background", "yellow")
                            .focus();

                    });


                } else {
                    location.reload()

                }

                firstExamPoints = parseFloat($("#firstExamPoints").val())
                secondExamPoints = parseFloat($("#secondExamPoints").val())
                finalExamPoints = parseFloat($("#finalExamPoints").val())
                finalExamPercentage = parseFloat($("#finalExamPercentage").val()) / 100
                firstExamPercentage = parseFloat($("#firstExamPercentage").val()) / 100
                secondExamPercentage = parseFloat($("#secondExamPercentage").val()) / 100
                assigmentsPoints = parseFloat($("#assigmentsPoints").val())
                assigmentsPercentage = parseFloat($("#assigmentsPercentage").val()) / 100
                presencePoints = parseFloat($("#presencePoints").val())
                presencePercentage = parseFloat($("#presencePercentage").val()) / 100
                bonusPoints = parseFloat($("#bonusPoints").val())
                bonusPercentage = parseFloat($("#bonusPercentage").val()) / 100


                rezultatFirstExamPercentage = parseFloat(firstExamPoints) * parseFloat(firstExamPercentage);
                console.log(rezultatFirstExamPercentage)
                rezutatSecondExamPercentage = parseFloat(secondExamPoints) * parseFloat(secondExamPercentage);
                console.log(rezutatSecondExamPercentage);
                rezultatFinalExamPercentage = parseFloat(finalExamPoints) * parseFloat(finalExamPercentage)
                console.log(rezultatFinalExamPercentage)
                rezultatAssigmentsPercentage = parseFloat(assigmentsPoints) * parseFloat(assigmentsPercentage)
                console.log(rezultatAssigmentsPercentage)
                rezultatBonusPercentage = parseFloat(bonusPoints) * parseFloat(bonusPercentage)
                console.log(rezultatBonusPercentage)
                rezultatPresencePoints = parseFloat(presencePoints) * parseFloat(presencePercentage)
                console.log(rezultatPresencePoints)


                if (isNaN(rezultatFirstExamPercentage))
                    rezultatFirstExamPercentage = 0

                if (isNaN(rezutatSecondExamPercentage))
                    rezutatSecondExamPercentage = 0

                if (isNaN(rezultatFinalExamPercentage))
                    rezultatFinalExamPercentage = 0

                if (isNaN(rezultatAssigmentsPercentage))
                    rezultatAssigmentsPercentage = 0

                if (isNaN(rezultatPresencePoints))
                    rezultatPresencePoints = 0

                if (isNaN(rezultatBonusPercentage))
                    rezultatBonusPercentage = 0


                rezultatTotalPercentage = rezultatFirstExamPercentage + rezutatSecondExamPercentage + rezultatFinalExamPercentage + rezultatAssigmentsPercentage + rezultatBonusPercentage + rezultatPresencePoints
                console.log(rezultatBonusPercentage)

                $("#firstExamPercentageShow").append(rezultatFirstExamPercentage)
                $("#secondExamPercentageShow").append(rezutatSecondExamPercentage)
                $("#finalExamPercentageShow").append(rezultatFinalExamPercentage)
                $("#assigmentsPercentageShow").append(rezultatAssigmentsPercentage)
                $("#presencePercentageShow").append(rezultatPresencePoints)
                $("#bonusPercentageShow").append(rezultatBonusPercentage)
                $("#TotalPercentageShow").append(rezultatTotalPercentage)

                // console.log(firstExamPoints)
                // console.log(firstExamPercentage)
                // console.log(secondExamPoints)
                // console.log(secondExamPercentage)
                // console.log(finalExamPoints)
                // console.log(finalExamPercentage)
                // console.log(assigmentsPoints)
                // console.log(assigmentsPercentage)
                // console.log(presencePoints)
                // console.log(presencePercentage)
                // console.log(bonusPoints)
                // console.log(bonusPercentage)


                //  $("input").prop('disabled', false);


                $("#calculateAgain").click(function () {
                    location.reload()

                })


            })

            $("#gjuha").change(function () {
                if ($(this).val() === '1') {
                    window.open("KreditKalkulatorAL.html", "_self")
                }
            })

            $("#calculateFinal").click(function () {
                window.open("GradeCalculator.html")
            })


        })


    </script>
    <style>
        .display-6.custom {
            font-size: 25px;
        }

        .totalInstallments {
            margin-bottom: 1vw;
            margin-left: 4px;
        }

        input {
            display: block;

        }

        @media only screen and (max-width: 599px) {
            input, #percentageOnFinal, #returnAmt {
                width: 200%;
            }

            .display-6.custom {
                text-align: center;
                font-size: 18px;
            }
        }

        @media only screen and (max-width: 377px) {
            input, #percentageOnFinal, #returnAmt {
                width: 200%;
            }

            .display-6.custom {
                text-align: center;
                font-size: 18px;
            }

        }


    </style>
    <script src="https://code.jquery.com/jquery-3.5.0.js"></script>


</head>


<body>

<div class="container ">
    <br>
    <div class="row text-end">
        <div class="col">
            <label for="gjuha">Change Language</label><br>

            <select name="gjuha" id="gjuha">
                <option value="bosh">English</option>
                <option id="shqip" value="1"> Shqip</option>
            </select>
        </div>

    </div>
    <br>

    <div class="row text-center">
        <div class="col-sm-12 col-md-12 col-lg-12 col-12">
            <div class="display-6">Final grade calculator</div>
        </div>
    </div>
    <br>
    <div class="row  ">
        <div class="col-sm-7 col-md-7 col-lg-9 col-6"><br>
            <p class="display-6 custom">Total points on first exam</p>
            <div class="col-sm-5 col-md-5 col-lg-3 col-6  ">
                <input type="number" min="0" placeholder="Insert number" id="firstExamPoints" class="input-group-text"
                       style="background-color: white">
            </div>
        </div>

        <div class="col-sm-7 col-md-7 col-lg-9 col-6"><br>
            <p class="display-6 custom">First exam percentage on grade</p>
            <div class="input-group mb-3 col-sm-5 col-md-5 col-lg-3 col-6 ">
                <div class="input-group-text">
                    <input class="form-check-input mt-0" type="checkbox" value=""
                           aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control input-group-text" id="firstExamPercentage"
                       aria-label="Text input with checkbox" placeholder="%" style="background-color: white">
            </div>
        </div>


    </div>
    <div class="row  ">

        <div class="col-sm-7 col-md-7 col-lg-9 col-6"><br>
            <p class="display-6 custom">Total points on second exam</p>
            <div class="col-sm-5 col-md-5 col-lg-3 col-6  ">
                <input type="number" min="0" placeholder="Insert number" id="secondExamPoints" class="input-group-text"
                       style="background-color: white">
            </div>
        </div>
        <div class="col-sm-7 col-md-7 col-lg-9 col-6"><br>
            <p class="display-6 custom">Second exam percentage on grade</p>
            <div class="input-group mb-3 col-sm-5 col-md-5 col-lg-3 col-6  ">
                <div class="input-group-text">
                    <input class="form-check-input mt-0" type="checkbox" value=""
                           aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control input-group-text" id="secondExamPercentage"
                       aria-label="Text input with checkbox" placeholder="%" style="background-color: white">
            </div>
        </div>

    </div>
    <br>
    <div class="row  ">
        <div class="col-sm-7 col-md-7 col-lg-9 col-6">
            <p class="display-6 custom">Total points on final exam</p>
            <div class="col-sm-5 col-md-5 col-lg-3 col-6  ">
                <input type="number" min="0" placeholder="Insert number" id="finalExamPoints" class="input-group-text"
                       style="background-color: white">
            </div>
        </div>
        <div class="col-sm-7 col-md-7 col-lg-9 col-6 ">
            <p class="display-6 custom">Final exam percentage on grade</p>
            <div class="input-group mb-3 col-sm-5 col-md-5 col-lg-3 col-6  ">
                <div class="input-group-text">
                    <input class="form-check-input mt-0" type="checkbox" value=""
                           aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control input-group-text" id="finalExamPercentage"
                       aria-label="Text input with checkbox" placeholder="%" style="background-color: white">
            </div>
        </div>
    </div>
    <br>
    <div class="row  ">
        <div class="col-sm-7 col-md-7 col-lg-9 col-6">
            <p class="display-6 custom">Total points from assigments</p>
            <div class="col-sm-5 col-md-5 col-lg-3 col-6  ">
                <input type="number" min="0" placeholder="Insert number" id="assigmentsPoints">
            </div>
        </div>
        <div class="col-sm-7 col-md-7 col-lg-9 col-6 ">
            <p class="display-6 custom"> Percentage from assigments on grade</p>
            <div class="col-sm-5 col-md-5 col-lg-3 col-6 ">
                <input type="number" min="0" placeholder="%" class="totalInstallments" id="assigmentsPercentage">
            </div>
        </div>
    </div>

    <br>
    <div class="row  ">
        <div class="col-sm-7 col-md-7 col-lg-9 col-6">
            <p class="display-6 custom">Total points for presence</p>
            <div class="col-sm-5 col-md-5 col-lg-3 col-6  ">
                <input type="number" min="0" placeholder="Insert number" id="presencePoints">
            </div>
        </div>
        <div class="col-sm-7 col-md-7 col-lg-9 col-6 ">
            <p class="display-6 custom"> Percentage from presence on grade </p>
            <div class="col-sm-5 col-md-5 col-lg-3 col-6 ">
                <input type="number" min="0" placeholder="%" class="totalInstallments" id="presencePercentage">
            </div>
        </div>
    </div>
    <br>
    <div class="row  ">
        <div class="col-sm-7 col-md-7 col-lg-9 col-6">
            <p class="display-6 custom">Total bonus points accumulated</p>
            <div class="col-sm-5 col-md-5 col-lg-3 col-6  ">
                <input type="number" min="0" placeholder="Insert number" id="bonusPoints">
            </div>
        </div>
        <div class="col-sm-7 col-md-7 col-lg-9 col-6 ">
            <p class="display-6 custom"> Percentage from bonus on grade </p>
            <div class="col-sm-5 col-md-5 col-lg-3 col-6 ">
                <input type="number" min="0" placeholder="%" class="totalInstallments" id="bonusPercentage">
            </div>
        </div>
    </div>


    <div class="row justify-content-between text-center">
        <div class="col-sm-12 col-md-12 col-lg-12 col-6 "><br>
            <button class="btn btn-outline-secondary" id="calculate">Calculate your grade</button>
        </div>
        <div class="col-sm-12 col-md-12 col-lg-12 col-6 "><br>
            <button class="btn btn-outline-secondary" id="calculateFinal">Exam grade calculator</button>
        </div>

    </div>

    <div id="result">
        <hr id="hrID">
        <div class="row text-center">
            <div class="col-">
                <div class="display-6">Calculation result<br></div>
                <br>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-7 col-md-7 col-lg-9 col-8">
                <p class="display-6 custom">Total percentage from first exam is: </p>
            </div>
            <div class="col-sm-7 col-md-7 col-lg-9 col-3 offset-1 align-self-center">
                <span id="firstExamPercentageShow"></span>
            </div>
            <hr>
        </div>
        <div class="row">
            <div class="col-sm-7 col-md-7 col-lg-9 col-8">
                <p class="display-6 custom">Total percentage from second exam is: </p>
            </div>
            <div class="col-sm-7 col-md-7 col-lg-9 col-3 offset-1 align-self-center">
                <span id="secondExamPercentageShow"></span>
            </div>
            <hr>
        </div>
        <div class="row">
            <div class="col-sm-7 col-md-7 col-lg-9 col-8">
                <p class="display-6 custom">Total percentage final exam: </p>
            </div>
            <div class="col-sm-7 col-md-7 col-lg-9 col-3 offset-1 align-self-center">
                <span id="finalExamPercentageShow"></span>
            </div>
            <hr>
        </div>

        <div class="row">
            <div class="col-sm-7 col-md-7 col-lg-9 col-8">
                <p class="display-6 custom">Total percentage from assigments is: </p>
            </div>
            <div class="col-sm-7 col-md-7 col-lg-9 col-3 offset-1 align-self-center">
                <span id="assigmentsPercentageShow"></span>
            </div>
            <hr>
        </div>

        <div class="row">
            <div class="col-sm-7 col-md-7 col-lg-9 col-8">
                <p class="display-6 custom">Total percentage from presence is: </p>
            </div>
            <div class="col-sm-7 col-md-7 col-lg-9 col-3 offset-1 align-self-center">
                <span id="presencePercentageShow"></span>
            </div>
            <hr>
        </div>

        <div class="row">
            <div class="col-sm-7 col-md-7 col-lg-9 col-8">
                <p class="display-6 custom">Total percentage from bonus is: </p>
            </div>
            <div class="col-sm-7 col-md-7 col-lg-9 col-3 offset-1 align-self-center">
                <span id="bonusPercentageShow" class="text-center"></span>
            </div>
            <hr>
        </div>

        <div class="row">
            <div class="col-sm-7 col-md-7 col-lg-9 col-8">
                <p class="display-6 custom">Total percentage for the subject is: </p>
            </div>
            <div class="col-sm-7 col-md-7 col-lg-9 col-3 offset-1 align-self-center">
                <span id="TotalPercentageShow" class="text-end"></span>
            </div>
            <hr>
        </div>


        <div class="row">
            <div class="col-sm-7 col-md-7 col-lg-7 col-6"><br>
                <button class="btn btn-outline-secondary " id="calculateAgain">Calculate again
                </button>
            </div>
            <div class="col-sm-5 col-md-5 col-lg-5 col-6 text-end "><br>
                <button onclick="window.print()" class="btn btn-outline-secondary " id="printbutton1">Print
                    report
                </button>
                <br><br>
            </div>

        </div>

    </div>

</div>


<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
        integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
        integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
        crossorigin="anonymous"></script>


</body>
</html>